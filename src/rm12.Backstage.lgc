[ ********************************************************************[[ rm12.Backstage[[ The large backstage area (where ego=tiny)[[ ********************************************************************[ **************************************[ LOCAL DEFINES[ **************************************#define FlatRack o1#define Bigfoot o2#define Plant o3[ **************************************[ FIRST CYCLE ONLY[ **************************************if(newRoom)    {    [ load, draw and discard the picture for the current room    load.pic(currentRoom);    draw.pic(currentRoom);    discard.pic(currentRoom);        [ the horizon defines the upper limit of ego's movement    set.horizon(86);        [ add additional room initialization here    load.view(v.Backstage);    animate.obj(FlatRack);    set.view(FlatRack,v.Backstage);    set.loop(FlatRack,0);    if(Is1881) {     position(FlatRack,103,105);     }    else {      position(FlatRack,19,112);          animate.obj(Bigfoot);     set.view(Bigfoot,v.Backstage);     set.loop(Bigfoot,1);     ignore.horizon(Bigfoot);     position(Bigfoot,125,89);     draw(Bigfoot);          animate.obj(Plant);     set.view(Plant,v.Backstage);     set.loop(Plant,2);     position(Plant,81,134);     draw(Plant);     }    stop.cycling(FlatRack);    draw(FlatRack);           [ load ego view, animate and draw ego    [ this is sometimes handled in logic 0    [ instead of in each individual logic        load.view(EgoTiny);    set.view(ego,EgoTiny);    if (previousRoom == 60) { [Stage Right     position(ego,121,89);     egoDir=5;     }    if (previousRoom == 61) { [Stage Left     position(ego,35,89);     egoDir=5;     }    if (previousRoom == 32) { [Spiral stairs     position(ego,152,107);     egoDir=7;     }    if (previousRoom == 10) { [lower backstage     position(ego,4,130);     egoDir=3;     }    if (previousRoom == 14) { [Foyer Danse     position(ego,80,147);     egoDir=1;     }    egoStepTime=2;    step.time(ego,egoStepTime);    draw(ego);        [ display the picture on screen    show.pic();    }[ **************************************[ EVERY CYCLE[ **************************************[ add other room specific statements here[ **************************************[ PROCESS PLAYER INPUT[ **************************************if(egoHitSpecial) { egoStepTime=1; step.time(ego,egoStepTime); if(posn(ego,149,101,156,115)) {  new.room(32); [ ##LE001## spiral stairs  } if(posn(ego,74,148,85,155)) {  new.room(14); [ ##LE002## foyer danse  }}if(edgeEgoHit == TOP_EDGE) { egoStepTime=1; step.time(ego,egoStepTime); if(egoX <= 70) {  new.room(61); [ ##LE003## Stage Left  } else {  new.room(60); [ ##LE004## Stage Right  }}[ if player hasn't provided input, or if a match has already[ been found no need to do said testsif((!haveInput || haveMatch))    {    goto(done);    }[ place said tests hereif(said("look"))    {    print("Not a lot of people get to see inside this cavernous space where sets are prepared and arranged. Sandbangs hang from the flyloft above. In some ways it is the heart of the building, and from here one can reach the dressing rooms and offices beyond the Foyer Danse to the south, step onto the stage, descend by steps to the left to storerooms, or climb a staircase beyond the right wall and ascend to the flyloft.");    }if(said("look", "leg")) { if(!Is1881) {  print("This huge Egyptian statue is as tall as the fly loft! Its head is way up there. You know it to be made of papier mach‚, though.");  } else {  print("You examine your leg but find nothing interesting about it, other than a finely turned calf.");  }}if(said("look", "statue")) { print("It's not anyone you recognise."); }if(said("talk", "statue")) { print("Sorry. It's stone deaf."); }if(said("look","flats")) { if(!Is1881) {  print("These theatrical flats look ancient, part of some long-forgotten production and never cleared out.");  } else {  print("The flats lounging against the walls look newly-painted.");  }}if (said("look", "curtain")) { print("Called the \"cyc\" for short, the huge cyclorama curtain is a large piece of scenery which defines the back of the stage setting. It is usually made of a dark fabric, quite often blue to represent the sky.");}if (said("look","sandbags")) { print("Sandbags are commonly used in theatres as counterweights for heavy lighting instruments or pieces of scenery."); }if (said("take","sandbags")) { print("They're too high up."); }:donereturn();[ **************************************[ MESSAGES[ **************************************#message 1 "You see nothing of interest." 