[ ********************************************************************[[ rm28.avantfoyer[[ [[ ********************************************************************[ **************************************[ LOCAL DEFINES[ **************************************[ add local defines here[ **************************************[ FIRST CYCLE ONLY[ **************************************if(newRoom)    {    [ load, draw and discard the picture for the current room    load.pic(currentRoom);    draw.pic(currentRoom);    discard.pic(currentRoom);        [ the horizon defines the upper limit of ego's movement    set.horizon(20);        [ add additional room initialization here        load.view(100);    animate.obj(o1);    set.view(o1,100);    set.loop(o1,0);    position(o1,77,101);    draw(o1);        [ load ego view, animate and draw ego    [ this is sometimes handled in logic 0    [ instead of in each individual logic    if (PreviousRoom == 2) { [auditorium     position(ego,126,146);     egoDir=7;     }    if (PreviousRoom == 3) { [Grand Escalier     position(ego,35,147);     egoDir=3;     }    if (PreviousRoom == 56) { [library     position(ego,2,162);     egoDir=3;     }    if (PreviousRoom == 29) { [boxes     position(ego,78,126);     egoDir=5;     }        draw(ego);        [ display the picture on screen        show.pic();    }[ **************************************[ EVERY CYCLE[ **************************************[ add other room specific statements here[ **************************************[ PROCESS PLAYER INPUT[ **************************************if(egoHitSpecial) { if(posn(ego,22,135,40,152)) { [steps  new.room(3); [ ##LE001##  } if(posn(ego,68,120,83,131)) { [box stairs  [new.room(29); [boxes  print("These stairs will take you to the box lodgement.");  egoDir=5;  }}if(edgeEgoHit == Right_edge) { new.room(2); [ ##LE002##}if(edgeEgoHit == Left_edge) { [new.room(56); [libe outer print("The library will be this way."); egoDir=3; }[ if player hasn't provided input, or if a match has already[ been found no need to do said testsif((!haveInput || haveMatch))    {    goto(done);    }[ place said tests hereif(said("look"))    {    print("You are in the \"Avant-Foyer\" of the opera house. From here you can enter the auditorium, or go down the grand staircase to the entrance and box office. A flight of stairs at the far end of the room leads to the boxes. To the left of the stairs beyond the pillars is a sign pointing to the library.");    }:donereturn();[ **************************************[ MESSAGES[ **************************************#message 1 "You see nothing of interest." 